{"version":3,"sources":["img/logo.jpg..png","components/Header/Header.js","components/List/List.js","components/Home/Home.js","components/Topic/Topic.js","components/UseTopicList/UserTopicList.js","components/User/User.js","components/Main/Main.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","HeaderBar","state","token","useInfo","login","trim","axios","post","accesstoken","then","res","localStorage","setItem","data","id","console","log","setState","props","history","push","catch","message","info","loginOut","clear","getItem","author_id","Header","Layout","this","className","to","src","logo","alt","theme","mode","defaultSelectedKeys","Item","key","loginname","avatar_url","type","onClick","value","onChange","event","target","Component","withRouter","List","item","author","top","color","good","tab","title","ClockCircleOutlined","moment","last_reply_at","fromNow","EyeOutlined","visit_count","AliwangwangOutlined","reply_count","create_at","Home","topic","getTypes","page","limit","get","location","pathname","filter","changePage","search","replace","preprops","oldsearch","SubMenu","Menu","Content","Sider","number","allNumber","find","indexOf","style","padding","width","defaultOpenKeys","height","UserOutlined","LaptopOutlined","minHeight","background","length","map","defaultCurrent","total","pageSize","active","Topic","commit","textareaValue","upClick","reply_id","newTopic","currentReply","replies","action","ups","warning","addCommit","topicid","match","params","content","myEditor","txt","handlerReply","forEach","showTextarea","E","document","querySelector","customConfig","onchange","html","create","TextArea","Input","dangerouslySetInnerHTML","__html","includes","LikeOutlined","placement","ExportOutlined","rows","lineHeight","borderRadius","backgroundColor","textAlign","fontSize","UseTopicList","User","userInfo","user","score","recent_topics","UserTopicList","recent_replies","Main","exact","path","component","App","locale","Boolean","window","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"2GAAAA,EAAOC,QAAU,IAA0B,uC,sbCOrCC,E,2MACJC,MAAQ,CACNC,MAAO,wCACPC,QAAS,M,EAwCXC,MAAQ,WAAO,IACLF,EAAU,EAAKD,MAAfC,MACJA,EAAMG,QACRC,IAAMC,KAAK,4CAA6C,CAAEC,YAAaN,IAASO,MAAK,SAAAC,GACnFC,aAAaC,QAAQ,QAASV,GAC9BS,aAAaC,QAAQ,YAAaF,EAAIG,KAAKC,IAC3CC,QAAQC,IAAIN,EAAIG,MAChB,EAAKI,SAAS,CACZd,QAASO,EAAIG,OAEf,EAAKK,MAAMC,QAAQC,KAAK,QACvBC,OAAM,WACPC,IAAQC,KAAK,8D,EAInBC,SAAW,WACTb,aAAac,QACb,EAAKR,SAAS,CACZd,QAAS,KAEX,EAAKe,MAAMC,QAAQC,KAAK,M,mFA3DL,IAAD,OACdlB,EAAQS,aAAae,QAAQ,SAC7BC,EAAYhB,aAAae,QAAQ,aACjCxB,GACFI,IAAMC,KAAK,4CAA6C,CAAEC,YAAaN,IAASO,MAAK,SAAAC,GACnFC,aAAaC,QAAQ,QAASV,GAC9BS,aAAaC,QAAQ,YAAae,GAClC,EAAKV,SAAS,CACZd,QAASO,EAAIG,Y,+BAKX,IAAD,OACCe,EAAWC,IAAXD,OADD,EAEoBE,KAAK7B,MAAxBC,EAFD,EAECA,MAAOC,EAFR,EAEQA,QACf,OACE,kBAAC,IAAD,KACE,kBAACyB,EAAD,CAAQG,UAAU,UAChB,kBAAC,IAAD,CAAMC,GAAG,KAAI,yBAAKC,IAAKC,IAAMC,IAAI,MACjC,kBAAC,IAAD,CAAMC,MAAM,OAAOC,KAAK,aAAaC,oBAAqB,CAAC,MACzD,kBAAC,IAAKC,KAAN,CAAWC,IAAI,KAAI,kBAAC,IAAD,CAASR,GAAG,KAAZ,iBACnB,kBAAC,IAAKO,KAAN,CAAWC,IAAI,KAAI,kBAAC,IAAD,CAASR,GAAG,aAAZ,8BAEpB7B,EAAU,yBAAM4B,UAAU,SAAhB,IAAyB,kBAAC,IAAD,CAAMC,GAAE,gBAAW7B,EAAQsC,YAAa,yBAAKR,IAAK9B,EAAQuC,WAAYP,IAAI,MAAY,8BAAOhC,EAAQsC,WAAiB,kBAAC,IAAD,CAAQE,KAAK,UAAUC,QAASd,KAAKN,UAArC,iBACxJ,yBAAKO,UAAU,SAAQ,2BAAOY,KAAK,OAAOE,MAAO3C,EAAO4C,SAAU,SAACC,GACjE,EAAK9B,SAAS,CACZf,MAAO6C,EAAMC,OAAOH,WAGtB,kBAAC,IAAD,CAAQF,KAAK,UAAUC,QAASd,KAAK1B,OAArC,uB,GAnCU6C,aAqETC,cAAWlD,G,2CCjDXmD,MArBf,SAAcjC,GACZ,OACE,wBAAIa,UAAU,QACZ,yBAAKA,UAAU,eACb,yBAAKA,UAAU,QACb,kBAAC,IAAD,CAAMC,GAAE,gBAAWd,EAAMkC,KAAKC,OAAOZ,YAAa,yBAAKR,IAAKf,EAAMkC,KAAKC,OAAOX,WAAYP,IAAI,MAE7FjB,EAAMkC,KAAKE,IAAM,kBAAC,IAAD,CAAKC,MAAM,QAAX,gBAA6BrC,EAAMkC,KAAKI,KAAO,kBAAC,IAAD,CAAKD,MAAM,SAAX,gBAAiD,UAAnBrC,EAAMkC,KAAKK,IAAkB,kBAAC,IAAD,CAAKF,MAAM,UAAX,gBAAkD,QAAnBrC,EAAMkC,KAAKK,IAAgB,kBAAC,IAAD,CAAKF,MAAM,QAAX,gBAA6B,kBAAC,IAAD,CAAKA,MAAM,QAAX,gBAEnN,kBAAC,IAAD,CAAMvB,GAAE,iBAAYd,EAAMkC,KAAKtC,KAAM,0BAAMiB,UAAU,QAAQb,EAAMkC,KAAKM,SAE1E,0BAAM3B,UAAU,SAAQ,kBAAC4B,EAAA,EAAD,MAAxB,oCAAwDC,IAAO1C,EAAMkC,KAAKS,eAAeC,YAE3F,yBAAK/B,UAAU,kBACb,0BAAMA,UAAU,SAAQ,kBAACgC,EAAA,EAAD,MAAxB,IAAqD7C,EAAMkC,KAAKY,aAChE,0BAAMjC,UAAU,SAAQ,kBAACkC,EAAA,EAAD,MAAxB,IAAiD/C,EAAMkC,KAAKc,aAC5D,0BAAMnC,UAAU,aAAY,kBAAC4B,EAAA,EAAD,MAA5B,4BAAyDC,IAAO1C,EAAMkC,KAAKe,WAAWL,c,6CCgF/EM,E,2MA9FbnE,MAAQ,CACNoE,MAAO,I,EAuETC,SAAW,WAAyC,IAAxC3B,EAAuC,uDAAhC,MAAO4B,EAAyB,uDAAlB,EAAGC,EAAe,uDAAP,GAC1ClE,IAAMmE,IAAN,mDAAsD9B,EAAtD,iBAAmE4B,EAAnE,kBAAiFC,IAAS/D,MAAK,SAAAC,GAC7FK,QAAQC,IAAIN,EAAIG,KAAKA,MACgB,MAAjC,EAAKK,MAAMwD,SAASC,SACtB,EAAK1D,SAAS,CACZoD,MAAO3D,EAAIG,KAAKA,OAGlB,EAAKI,SAAS,CACZoD,MAAO3D,EAAIG,KAAKA,KAAK+D,QAAO,SAAAxB,GAAI,OAAIA,EAAKY,YAAc,a,EAM/Da,WAAa,SAACN,GAAU,IAEhB5B,EADa,EAAKzB,MAAMwD,SAAtBI,OACYC,QAAQ,QAAS,IACrC,EAAKT,SAAS3B,EAAM4B,I,mFArFpBzC,KAAKwC,a,yCAGYU,GACjB,IAAMC,EAAYD,EAASN,SAASI,OAC5BA,EAAWhD,KAAKZ,MAAMwD,SAAtBI,OACR,GAAIA,IAAWG,EAAW,CACxB,IAAMtC,EAAOmC,EAAOC,QAAQ,QAAS,IACrCjD,KAAKwC,SAAS3B,M,+BAIR,IACAmC,EAAWhD,KAAKZ,MAAMwD,SAAtBI,OACAI,EAAYC,IAAZD,QACAE,EAAmBvD,IAAnBuD,QAASC,EAAUxD,IAAVwD,MACThB,EAAUvC,KAAK7B,MAAfoE,MAOFiB,EANY,CAAC,CAAE3C,KAAM,MAAO4C,UAAW,MAC7C,CAAE5C,KAAM,OAAQ4C,UAAW,IAC3B,CAAE5C,KAAM,OAAQ4C,UAAW,GAC3B,CAAE5C,KAAM,QAAS4C,UAAW,KAC5B,CAAE5C,KAAM,MAAO4C,UAAW,KAC1B,CAAE5C,KAAM,MAAO4C,UAAW,KACDC,MAAK,SAAApC,GAAI,MAAe,KAAX0B,EAA8B,QAAd1B,EAAKT,KAAiBmC,EAAOW,QAAQrC,EAAKT,OAAS,KAAG4C,UAC5G,OAEE,yBAAKxD,UAAU,QACb,kBAACqD,EAAD,CAASM,MAAO,CAAEC,QAAS,UACzB,kBAAC,IAAD,CAAQ5D,UAAU,0BAChB,kBAACsD,EAAD,CAAOtD,UAAU,yBAAyB6D,MAAO,KAC/C,kBAAC,IAAD,CACEvD,KAAK,SACLC,oBAAqB,CAAC,KACtBuD,gBAAiB,CAAC,QAClBH,MAAO,CAAEI,OAAQ,OAAQH,QAAS,WAJpC,IAKE,kBAAC,IAAKpD,KAAN,CAAWC,IAAI,KAAI,kBAAC,IAAD,CAASR,GAAG,aAAY,8BAC3C,kBAAC+D,EAAA,EAAD,OADmB,iBAInB,kBAACb,EAAD,CACE1C,IAAI,OACJkB,MACE,8BACE,kBAACsC,EAAA,EAAD,MADF,iBAMF,kBAAC,IAAKzD,KAAN,CAAWC,IAAI,KAAI,kBAAC,IAAD,CAASR,GAAG,cAAZ,iBACnB,kBAAC,IAAKO,KAAN,CAAWC,IAAI,KAAI,kBAAC,IAAD,CAASR,GAAG,cAAZ,SACnB,kBAAC,IAAKO,KAAN,CAAWC,IAAI,KAAI,kBAAC,IAAD,CAASR,GAAG,eAAZ,iBACnB,kBAAC,IAAKO,KAAN,CAAWC,IAAI,KAAI,kBAAC,IAAD,CAASR,GAAG,aAAZ,iBACnB,kBAAC,IAAKO,KAAN,CAAWC,IAAI,KAAI,kBAAC,IAAD,CAASR,GAAG,aAAZ,oBAIzB,kBAACoD,EAAD,CAASM,MAAO,CAAEC,QAAS,OAAQM,UAAW,IAAKC,WAAY,SAC5D7B,EAAM8B,OAAS,6BAAK,wBAAIT,MAAO,CAAEC,QAAS,IACzCtB,EAAM+B,KAAI,SAAAhD,GAAI,OAAI,kBAAC,EAAD,CAAMA,KAAMA,EAAMZ,IAAKY,EAAKtC,SADhC,IAET,kBAAC,IAAD,CAAYuF,eAAgB,EAAGC,MAAOhB,EAAQiB,SAAU,GAAIzD,SAAUhB,KAAK+C,cAAuB,kBAAC,IAAD,CAAU2B,QAAM,Y,GAjEpHvD,a,wECoJJwD,G,kNAlJbxG,MAAQ,CACNoE,MAAO,KACPqC,OAAQ,GACRC,cAAe,I,EAoFjBC,QAAU,SAACC,GAET,IAAM3G,EAAQS,aAAae,QAAQ,SAC7BoF,EAAQ,eAAQ,EAAK7G,MAAMoE,OAC3B1C,EAAYhB,aAAae,QAAQ,aACnCxB,EACFI,IAAMC,KAAN,8CAAkDsG,EAAlD,QAAkE,CAAErG,YAAaN,IAASO,MAAK,SAAAC,GAC7F,IAAMqG,EAAeD,EAASE,QAAQxB,MAAK,SAAApC,GAAI,OAAIA,EAAKtC,KAAO+F,KACvC,OAApBnG,EAAIG,KAAKoG,QACXlG,QAAQC,IAAIW,GACZoF,EAAaG,IAAI9F,KAAKO,IAGtBoF,EAAaG,IAAMH,EAAaG,IAAItC,QAAO,SAAAxB,GAAI,OAAIA,IAASzB,KAE9D,EAAKV,SAAS,CACZoD,MAAOyC,OAIXxF,IAAQ6F,QAAQ,6B,EAGpBC,UAAY,WAAO,IACTV,EAAW,EAAKzG,MAAhByG,OACAW,EAAY,EAAKnG,MAAMoG,MAAMC,OAA7BF,QACR,GAAIX,EAAOrG,OAAQ,CACjB,IAAMH,EAAQS,aAAae,QAAQ,SACnCpB,IAAMC,KAAN,8CAAkD8G,EAAlD,YACE,CAAE7G,YAAaN,EAAOsH,QAASd,IAAUjG,MAAK,WAC5CH,IAAMmE,IAAN,8CAAiD4C,IAAW5G,MAAK,SAAAC,GAC/D,EAAKO,SAAS,CACZoD,MAAO3D,EAAIG,KAAKA,UAGpB,EAAK4G,SAASC,IAAIjG,gBAGtBH,IAAQC,KAAK,+C,EAGjBoG,aAAe,YAAqB,IAAlB7G,EAAiB,EAAjBA,GAAIuC,EAAa,EAAbA,OACZgB,EAAU,EAAKpE,MAAfoE,MACFyC,EAAQ,eAAQzC,GACtByC,EAASE,QAAQY,SAAQ,SAAAxE,GACnBA,EAAKtC,KAAOA,EACdsC,EAAKyE,cAAgBzE,EAAKyE,aAE1BzE,EAAKyE,cAAe,KAGxB9G,QAAQC,IAAI8F,GACZ,EAAK7F,SAAS,CACZoD,MAAOyC,EACPH,cAAc,IAAD,OAAMtD,EAAOZ,UAAb,S,mFAxII,IAAD,OACV4E,EAAYvF,KAAKZ,MAAMoG,MAAMC,OAA7BF,QACR/G,IAAMmE,IAAN,8CAAiD4C,IAAW5G,MAAK,SAAAC,GAC/DK,QAAQC,IAAIN,EAAIG,KAAKA,MACrB,EAAKI,SAAS,CACZoD,MAAO3D,EAAIG,KAAKA,OAElB,EAAK4G,SAAW,IAAIK,IAAEC,SAASC,cAAc,YAC7C,EAAKP,SAASQ,aAAaC,SAAW,SAACC,GACrC,EAAKlH,SAAS,CACZyF,OAAQyB,KAGZ,EAAKV,SAASW,c,+BAGR,IAAD,OAWCC,EAAaC,IAAbD,SACFnI,EAAQS,aAAae,QAAQ,SAC7BC,EAAYhB,aAAae,QAAQ,aAbhC,EAc0BI,KAAK7B,MAA9BoE,EAdD,EAcCA,MAAOsC,EAdR,EAcQA,cACf,OAAOtC,EAAQ,yBAAKtC,UAAU,SAC5B,yBAAKA,UAAU,gBACb,4BAAKsC,EAAMX,OACX,0BAAM3B,UAAU,UAAS,wCAAzB,sBAA4C6B,IAAOS,EAAMF,WAAWL,WACpE,0BAAM/B,UAAU,UAAS,wCAAzB,gBAA2CsC,EAAMhB,OAAOZ,WACxD,0BAAMV,UAAU,UAAS,wCAAesC,EAAML,YAA9C,uBAEF,yBAAKjC,UAAU,gBAAgBwG,wBAAyB,CAAEC,OAAQnE,EAAMmD,WACxE,yBAAKzF,UAAU,cACb,4BACGsC,EAAM2C,QAAQZ,KAAI,SAAAhD,GAAI,OACrB,wBAAIZ,IAAKY,EAAKtC,IACZ,yBAAKiB,UAAU,kBACb,6BACE,kBAAC,IAAD,CAAMC,GAAE,gBAAWoB,EAAKC,OAAOZ,YAAa,yBAAKR,IAAKmB,EAAKC,OAAOX,WAAYP,IAAI,MAClF,8BAAOiB,EAAKC,OAAOZ,WACnB,8BAAOmB,IAAOR,EAAKe,WAAWL,WAC9B,yBAAKyE,wBAAyB,CAAEC,OAAQpF,EAAKoE,SAAWzF,UAAU,oBAEpE,6BACE,0BAAM2D,MAAO,CAAEnC,MAAOH,EAAK8D,IAAIuB,SAAS9G,GAAa,OAAS,SAAU,kBAAC+G,EAAA,EAAD,CAAc9F,QAAS,WAAQ,EAAKgE,QAAQxD,EAAKtC,QACzH,8BAAOsC,EAAK8D,IAAIf,QAEdjG,EAAQ,kBAAC,IAAD,CAASyI,UAAU,UAAUjF,MAAM,gBACzC,0BAAMd,QAAS,WAAQ,EAAK+E,aAAavE,KAAS,kBAACwF,EAAA,EAAD,QACvC,KAKjBxF,EAAKyE,aAAe,yBAAK9F,UAAU,qBAAoB,kBAACsG,EAAD,CAAUQ,KAAM,EAAGhG,MAAO8D,EAAe7D,SAAU,SAAAC,GACxG,EAAK9B,SAAS,CACZ0F,cAAe5D,EAAMC,OAAOH,YAGvB,QAKjB,yBAAKd,UAAU,iBACb,wDACA,yBAAKjB,GAAG,WACR,kBAAC,IAAD,CAAQ6B,KAAK,UAAUC,QAASd,KAAKsF,WAArC,gBACA,kBAAC,IAAD,KACE,yBAAK1B,MA3DC,CACZI,OAAQ,GACRF,MAAO,GACPkD,WAAY,OACZC,aAAc,EACdC,gBAAiB,UACjBzF,MAAO,OACP0F,UAAW,SACXC,SAAU,KAmDJ,gCAIE,kBAAC,IAAD,CAAU1C,QAAM,Q,GAtFVvD,c,OCOLkG,MAZf,SAAsBjI,GACpB,OACE,yBAAKa,UAAU,cACb,6BACG,yBAAKE,IAAKf,EAAMkC,KAAKC,OAAOX,WAAYP,IAAI,KAC5C,0BAAMJ,UAAU,WAAWb,EAAMkC,KAAKM,QAEzC,0BAAM3B,UAAU,UAAU6B,IAAO1C,EAAMkC,KAAKS,eAAeC,aC6ElDsF,G,kNAhFbnJ,MAAQ,CACNoJ,SAAS,M,mFAES,IAAD,OACXC,EAAKxH,KAAKZ,MAAMwD,SAASC,SAASI,QAAQ,SAAS,IACzDzE,IAAMmE,IAAN,6CAAgD6E,IAAQ7I,MAAK,SAAAC,GAC3DK,QAAQC,IAAIN,EAAIG,KAAKA,MACrB,EAAKI,SAAS,CACZoI,SAAU3I,EAAIG,KAAKA,OAEvBE,QAAQC,IAAI,EAAKf,MAAMoJ,SAAS5G,gB,+BAIxB,IACG4G,EAAavH,KAAK7B,MAAlBoJ,SACT,OACD,iCAAQA,EACP,yBAAKtH,UAAU,QACjB,yBAAKA,UAAU,aACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,cAAa,kBAAC,IAAD,CAAMC,GAAG,KAAT,kBAC5B,yBAAKD,UAAU,iBACb,yBAAKE,IAAKoH,EAAS3G,WAAYP,IAAI,KACnC,0BAAMJ,UAAU,UAAUsH,EAAS5G,WACnC,2BAAI4G,EAASE,MAAb,gBACA,uBAAGxH,UAAU,SAAb,4BAA2B6B,IAAOyF,EAASlF,WAAWL,aAG1D,0BAAM/B,UAAU,WACd,yBAAKA,UAAU,eAAf,8CACA,yBAAKA,UAAU,kBACXsH,EAASG,cAAcrD,OAC3B,iCAAQkD,EAASG,cAAcpD,KAAI,SAAAhD,GAAI,OAAE,kBAACqG,EAAD,CAAerG,KAAMA,EAAMZ,IAAKY,EAAKtC,SAA6B,KAI7G,gCACA,yBAAKiB,UAAU,eAAf,8CACE,yBAAKA,UAAU,kBACXsH,EAASK,eAAevD,OAC5B,iCAAQkD,EAASK,eAAetD,KAAI,SAAAhD,GAAI,OAAE,kBAACqG,EAAD,CAAerG,KAAMA,EAAMZ,IAAKY,EAAKtC,SAA+B,yBAAKiB,UAAU,uBAAf,yBAKlH,yBAAKA,UAAU,cACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,cAAf,4BACA,yBAAKA,UAAU,cACf,yBAAKE,IAAKoH,EAAS3G,WAAYP,IAAI,KACjC,0BAAMJ,UAAU,UAAUsH,EAAS5G,WACnC,gDAAO4G,EAASE,OAChB,yIAGJ,yBAAKxH,UAAU,UACb,yBAAKA,UAAU,cAAf,kCACA,yBAAKA,UAAU,SACb,yBAAKE,IAAI,wDAAwDE,IAAI,KACrE,yBAAKF,IAAI,wDAAwDE,IAAI,OAGzE,yBAAKJ,UAAU,UACb,yBAAKA,UAAU,cAAf,4BACA,iCACE,0DACA,iDACA,wGACA,uCAID,Q,GA1EUkB,cCOJ0G,EARF,SAACzI,GACZ,OAAO,oCACL,kBAAC,IAAD,CAAO0I,OAAK,EAACC,KAAK,IAAIC,UAAW1F,IACjC,kBAAC,IAAD,CAAOyF,KAAK,YAAYC,UAAW1F,IACnC,kBAAC,IAAD,CAAOyF,KAAK,kBAAkBC,UAAWrD,IACzC,kBAAC,IAAD,CAAOoD,KAAK,eAAeC,UAAWV,MCQ3BW,MAZf,WAEE,OADAnG,IAAOoG,OAAO,SAEZ,6BACE,kBAAC,IAAD,KACE,kBAAC,EAAD,MACA,kBAAC,EAAD,SCAYC,QACW,cAA7BC,OAAOxF,SAASyF,UAEe,UAA7BD,OAAOxF,SAASyF,UAEhBD,OAAOxF,SAASyF,SAAS7C,MACvB,2DCZN8C,IAASC,OAAO,kBAAC,EAAD,MAAStC,SAASuC,eAAe,SD6H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBhK,MAAK,SAAAiK,GACJA,EAAaC,gBAEdtJ,OAAM,SAAAuJ,GACL7J,QAAQ6J,MAAMA,EAAMtJ,c","file":"static/js/main.85731a2b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.jpg..67c8e1eb.png\";","import { Layout, Menu, Button } from 'antd';\r\nimport logo from '../../img/logo.jpg..png'\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios'\r\nimport './header.scss'\r\nimport { message } from 'antd'\r\nimport { NavLink, Link, withRouter } from 'react-router-dom'\r\nclass HeaderBar extends Component {\r\n  state = {\r\n    token: ' f29071e5-381e-4000-9d14-adfd134c92dc',\r\n    useInfo: null\r\n  }\r\n  componentDidMount() {\r\n    var token = localStorage.getItem('token')\r\n    var author_id = localStorage.getItem('author_id')\r\n    if (token) {\r\n      axios.post('https://www.vue-js.com/api/v1/accesstoken', { accesstoken: token }).then(res => {\r\n        localStorage.setItem('token', token)\r\n        localStorage.setItem('author_id', author_id)\r\n        this.setState({\r\n          useInfo: res.data\r\n        })\r\n      })\r\n    }\r\n  }\r\n  render() {\r\n    const { Header } = Layout;\r\n    const { token, useInfo } = this.state\r\n    return (\r\n      <Layout>\r\n        <Header className=\"header\">\r\n          <Link to='/'><img src={logo} alt=\"\" /></Link>\r\n          <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['1']}>\r\n            <Menu.Item key=\"1\"><NavLink to='/'>首页</NavLink></Menu.Item>\r\n            <Menu.Item key=\"2\"><NavLink to='/hotTopic'>热门话题</NavLink></Menu.Item>\r\n          </Menu>\r\n          {useInfo ? < div className='login'> <Link to={`/user/${useInfo.loginname}`}><img src={useInfo.avatar_url} alt=\"\" /></Link><span>{useInfo.loginname}</span><Button type=\"primary\" onClick={this.loginOut}>退出</Button></div> :\r\n            <div className='login'><input type=\"text\" value={token} onChange={(event) => {\r\n              this.setState({\r\n                token: event.target.value\r\n              })\r\n            }} />\r\n              <Button type=\"primary\" onClick={this.login}>登录</Button>\r\n            </div>\r\n          }\r\n        </Header>\r\n      </Layout>\r\n\r\n    );\r\n  }\r\n  login = () => {\r\n    const { token } = this.state\r\n    if (token.trim()) {\r\n      axios.post('https://www.vue-js.com/api/v1/accesstoken', { accesstoken: token }).then(res => {\r\n        localStorage.setItem('token', token)\r\n        localStorage.setItem('author_id', res.data.id)\r\n        console.log(res.data)\r\n        this.setState({\r\n          useInfo: res.data\r\n        })\r\n        this.props.history.push('/')\r\n      }).catch(() => {\r\n        message.info('登录失败，密码错误')\r\n      })\r\n    }\r\n  }\r\n  loginOut = () => {\r\n    localStorage.clear()\r\n    this.setState({\r\n      useInfo: ''\r\n    })\r\n    this.props.history.push('/')\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(HeaderBar);","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport { Tag } from 'antd'\r\nimport { EyeOutlined, AliwangwangOutlined, ClockCircleOutlined } from '@ant-design/icons'\r\nimport './list.scss'\r\nimport moment from 'moment'\r\nfunction List(props) {\r\n  return (\r\n    <li className='list'>\r\n      <div className=\"content-top\">\r\n        <div className=\"left\">\r\n          <Link to={`/user/${props.item.author.loginname}`}><img src={props.item.author.avatar_url} alt=\"\" /></Link>\r\n\r\n          {props.item.top ? <Tag color=\"gold\">置顶</Tag> : props.item.good ? <Tag color=\"green\">精华</Tag> : props.item.tab === 'share' ? <Tag color=\"purple\">分享</Tag> : props.item.tab === 'ask' ? <Tag color=\"cyan\">问答</Tag> : <Tag color=\"blue\">招聘</Tag>}\r\n\r\n          <Link to={`/topic/${props.item.id}`}><span className='link'>{props.item.title}</span></Link>\r\n        </div>\r\n        <span className='title'><ClockCircleOutlined /> 最后回复于: {moment(props.item.last_reply_at).fromNow()}</span>\r\n      </div>\r\n      <div className=\"content-bottom\">\r\n        <span className='title'><EyeOutlined></EyeOutlined> {props.item.visit_count}</span>\r\n        <span className='title'><AliwangwangOutlined /> {props.item.reply_count}</span>\r\n        <span className='title-end'><ClockCircleOutlined /> 创建于：{moment(props.item.create_at).fromNow()}</span>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\nexport default List;","import React, { Component } from 'react';\r\nimport List from '../List/List'\r\nimport './home.scss'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { Layout, Menu, Skeleton, Pagination } from 'antd';\r\nimport { UserOutlined, LaptopOutlined, NotificationOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nclass Home extends Component {\r\n  state = {\r\n    topic: []\r\n  }\r\n  componentDidMount() {\r\n\r\n    this.getTypes()\r\n\r\n  }\r\n  componentDidUpdate(preprops) {\r\n    const oldsearch = preprops.location.search\r\n    const { search } = this.props.location\r\n    if (search !== oldsearch) {\r\n      const type = search.replace('?tab=', '')\r\n      this.getTypes(type)\r\n    }\r\n\r\n  }\r\n  render() {\r\n    const { search } = this.props.location\r\n    const { SubMenu } = Menu;\r\n    const { Content, Sider } = Layout;\r\n    const { topic } = this.state\r\n    const paginaArr = [{ type: 'all', allNumber: 1018 },\r\n    { type: 'good', allNumber: 15 },\r\n    { type: 'weex', allNumber: 3 },\r\n    { type: 'share', allNumber: 372 },\r\n    { type: 'ask', allNumber: 624 },\r\n    { type: 'job', allNumber: 59 }]\r\n    const number = paginaArr.find(item => search === '' ? item.type === 'all' : search.indexOf(item.type) > -1).allNumber\r\n    return (\r\n\r\n      <div className=\"Home\">\r\n        <Content style={{ padding: '0 15%' }}>\r\n          <Layout className=\"site-layout-background\" >\r\n            <Sider className=\"site-layout-background\" width={200}>\r\n              <Menu\r\n                mode=\"inline\"\r\n                defaultSelectedKeys={['1']}\r\n                defaultOpenKeys={['sub1']}\r\n                style={{ height: '100%', padding: '24px 0' }}\r\n              > <Menu.Item key=\"1\"><NavLink to='/?tab=all'><span>\r\n                <UserOutlined />\r\n\r\n              </span>全部</NavLink></Menu.Item>\r\n                <SubMenu\r\n                  key=\"sub2\"\r\n                  title={\r\n                    <span>\r\n                      <LaptopOutlined />\r\n                  类别\r\n                </span>\r\n                  }\r\n                >\r\n                  <Menu.Item key=\"5\"><NavLink to='/?tab=good'>精华</NavLink></Menu.Item>\r\n                  <Menu.Item key=\"6\"><NavLink to='/?tab=weex'>weex</NavLink></Menu.Item>\r\n                  <Menu.Item key=\"7\"><NavLink to='/?tab=share'>分享</NavLink></Menu.Item>\r\n                  <Menu.Item key=\"8\"><NavLink to='/?tab=ask'>问答</NavLink></Menu.Item>\r\n                  <Menu.Item key=\"9\"><NavLink to='/?tab=job'>招聘</NavLink></Menu.Item>\r\n                </SubMenu>\r\n              </Menu>\r\n            </Sider>\r\n            <Content style={{ padding: '24px', minHeight: 280, background: '#fff' }}>\r\n              {topic.length ? <div><ul style={{ padding: 0 }}>{\r\n                topic.map(item => <List item={item} key={item.id}></List>)\r\n              }</ul> <Pagination defaultCurrent={1} total={number} pageSize={20} onChange={this.changePage} /></div> : <Skeleton active />}\r\n\r\n            </Content>\r\n          </Layout>\r\n        </Content>\r\n      </div>\r\n    );\r\n  }\r\n  getTypes = (type = 'all', page = 1, limit = 20) => {\r\n    axios.get(`https://www.vue-js.com/api/v1/topics?tab=${type}&page=${page}&limit=${limit}`).then(res => {\r\n      console.log(res.data.data);\r\n      if (this.props.location.pathname === '/') {\r\n        this.setState({\r\n          topic: res.data.data\r\n        })\r\n      } else {\r\n        this.setState({\r\n          topic: res.data.data.filter(item => item.visit_count > 200)\r\n        })\r\n      }\r\n    }\r\n    )\r\n  }\r\n  changePage = (page) => {\r\n    const { search } = this.props.location\r\n    const type = search.replace('?tab=', '')\r\n    this.getTypes(type, page)\r\n  }\r\n}\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\nimport { Skeleton, message, Tooltip, Button, Input, BackTop } from 'antd';\r\nimport { Link } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport { LikeOutlined, ExportOutlined } from '@ant-design/icons'\r\nimport axios from 'axios'\r\nimport E from 'wangeditor'\r\nimport './topic.scss'\r\nclass Topic extends Component {\r\n  state = {\r\n    topic: null,\r\n    commit: '',\r\n    textareaValue: ''\r\n  }\r\n  componentDidMount() {\r\n    const { topicid } = this.props.match.params\r\n    axios.get(`https://www.vue-js.com/api/v1/topic/${topicid}`).then(res => {\r\n      console.log(res.data.data)\r\n      this.setState({\r\n        topic: res.data.data\r\n      })\r\n      this.myEditor = new E(document.querySelector('#editor'))\r\n      this.myEditor.customConfig.onchange = (html) => {\r\n        this.setState({\r\n          commit: html\r\n        })\r\n      }\r\n      this.myEditor.create()\r\n    })\r\n  }\r\n  render() {\r\n    const style = {\r\n      height: 40,\r\n      width: 80,\r\n      lineHeight: '40px',\r\n      borderRadius: 4,\r\n      backgroundColor: '#1088e9',\r\n      color: '#fff',\r\n      textAlign: 'center',\r\n      fontSize: 14,\r\n    };\r\n    const { TextArea } = Input;\r\n    const token = localStorage.getItem('token')\r\n    const author_id = localStorage.getItem('author_id')\r\n    const { topic, textareaValue } = this.state\r\n    return topic ? <div className='topic'>\r\n      <div className='topic-header'>\r\n        <h3>{topic.title}</h3>\r\n        <span className='active'><span>•</span>发布于 {moment(topic.create_at).fromNow()}</span>\r\n        <span className='active'><span>•</span>作者 {topic.author.loginname}</span>\r\n        <span className='active'><span>•</span>{topic.visit_count}次浏览</span>\r\n      </div>\r\n      <div className=\"topic-content\" dangerouslySetInnerHTML={{ __html: topic.content }}></div>\r\n      <div className=\"commit-box\">\r\n        <ul>\r\n          {topic.replies.map(item =>\r\n            <li key={item.id}>\r\n              <div className='commit-box-top'>\r\n                <div>\r\n                  <Link to={`/user/${item.author.loginname}`}><img src={item.author.avatar_url} alt=\"\" /></Link>\r\n                  <span>{item.author.loginname}</span>\r\n                  <span>{moment(item.create_at).fromNow()}</span>\r\n                  <div dangerouslySetInnerHTML={{ __html: item.content }} className='commit-content'></div>\r\n                </div>\r\n                <div>\r\n                  <span style={{ color: item.ups.includes(author_id) ? 'blue' : '#ccc' }}><LikeOutlined onClick={() => { this.upClick(item.id) }} /></span>\r\n                  <span>{item.ups.length}</span>\r\n                  {\r\n                    token ? <Tooltip placement=\"topLeft\" title=\"回复\">\r\n                      <span onClick={() => { this.handlerReply(item) }}><ExportOutlined /></span>\r\n                    </Tooltip> : \"\"\r\n                  }\r\n                </div>\r\n              </div>\r\n              {\r\n                item.showTextarea ? <div className=\"commit-box-footer\"><TextArea rows={4} value={textareaValue} onChange={event => {\r\n                  this.setState({\r\n                    textareaValue: event.target.value\r\n                  })\r\n                }} />\r\n                </div> : ''\r\n              }\r\n            </li>\r\n          )}\r\n        </ul>\r\n        <div className=\"commit-footer\">\r\n          <h3>添加回复</h3>\r\n          <div id=\"editor\"></div>\r\n          <Button type='primary' onClick={this.addCommit}>回复</Button>\r\n          <BackTop>\r\n            <div style={style}>回到顶部</div>\r\n          </BackTop>\r\n        </div>\r\n      </div>\r\n    </div > : <Skeleton active />\r\n  }\r\n  upClick = (reply_id) => {\r\n    // post /reply/:reply_id/ups 为评论点赞\r\n    const token = localStorage.getItem('token')\r\n    const newTopic = { ...this.state.topic }\r\n    const author_id = localStorage.getItem('author_id')\r\n    if (token) {\r\n      axios.post(`https://www.vue-js.com/api/v1/reply/${reply_id}/ups`, { accesstoken: token }).then(res => {\r\n        const currentReply = newTopic.replies.find(item => item.id === reply_id)\r\n        if (res.data.action === 'up') {\r\n          console.log(author_id)\r\n          currentReply.ups.push(author_id)\r\n\r\n        } else {\r\n          currentReply.ups = currentReply.ups.filter(item => item !== author_id)\r\n        }\r\n        this.setState({\r\n          topic: newTopic\r\n        })\r\n      })\r\n    } else {\r\n      message.warning('请先登录')\r\n    }\r\n  }\r\n  addCommit = () => {\r\n    const { commit } = this.state\r\n    const { topicid } = this.props.match.params\r\n    if (commit.trim()) {\r\n      const token = localStorage.getItem('token')\r\n      axios.post(`https://www.vue-js.com/api/v1/topic/${topicid}/replies`,\r\n        { accesstoken: token, content: commit }).then(() => {\r\n          axios.get(`https://www.vue-js.com/api/v1/topic/${topicid}`).then(res => {\r\n            this.setState({\r\n              topic: res.data.data\r\n            })\r\n          })\r\n          this.myEditor.txt.clear()\r\n        })\r\n    } else {\r\n      message.info('请输入有效内容')\r\n    }\r\n  }\r\n  handlerReply = ({ id, author }) => {\r\n    const { topic } = this.state\r\n    const newTopic = { ...topic }\r\n    newTopic.replies.forEach(item => {\r\n      if (item.id === id) {\r\n        item.showTextarea = !item.showTextarea\r\n      } else {\r\n        item.showTextarea = false\r\n      }\r\n    })\r\n    console.log(newTopic)\r\n    this.setState({\r\n      topic: newTopic,\r\n      textareaValue: `@${author.loginname}  `\r\n    })\r\n  }\r\n}\r\n\r\nexport default Topic;","import React from 'react';\r\nimport moment from 'moment'\r\nimport './userTopicList.scss'\r\nfunction UseTopicList(props){\r\n  return (\r\n    <div className=\"user-topic\">\r\n      <div>\r\n         <img src={props.item.author.avatar_url} alt=\"\"/>\r\n         <span className='p-title'>{props.item.title}</span>\r\n      </div>\r\n      <span className='p-time'>{moment(props.item.last_reply_at).fromNow()}</span>\r\n    </div>\r\n  )\r\n}\r\n \r\nexport default UseTopicList;","import React, { Component } from 'react';\r\nimport{Link} from 'react-router-dom'\r\nimport UserTopicList from '../UseTopicList/UserTopicList'\r\nimport './user.scss'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\nclass User extends Component {\r\n  state = {\r\n    userInfo:null\r\n  }\r\n  componentDidMount(){\r\n    const user=this.props.location.pathname.replace('/user/','')\r\n    axios.get(`https://www.vue-js.com/api/v1/user/${user}`).then(res=>{\r\n      console.log(res.data.data)\r\n      this.setState({\r\n        userInfo: res.data.data\r\n      })\r\n    console.log(this.state.userInfo.loginname)\r\n\r\n    })\r\n  }\r\n  render() {\r\n       const { userInfo } = this.state\r\n      return (\r\n     <div> { userInfo ?\r\n      <div className='user'>\r\n    <div className=\"user-left\">\r\n      <div className='header'>\r\n        <div className=\"header-top\"><Link to='/'>主页/</Link></div>\r\n        <div className=\"header-bottom\">\r\n          <img src={userInfo.avatar_url} alt=\"\"/>\r\n          <span className='h-name'>{userInfo.loginname}</span>\r\n          <p>{userInfo.score}积分</p>\r\n          <p className='h-log'>注册时间 {moment(userInfo.create_at).fromNow()}</p>\r\n        </div>\r\n      </div>\r\n      <main className='content'>\r\n        <div className=\"content-top\">最近创建的话题</div>\r\n        <div className=\"content-footer\">\r\n          { userInfo.recent_topics.length?\r\n        <div> { userInfo.recent_topics.map(item=><UserTopicList item={item} key={item.id}></UserTopicList>)}</div>:''  \r\n        }\r\n        </div>\r\n      </main>\r\n      <footer>\r\n      <div className=\"content-top\">最近参与的话题</div>\r\n        <div className=\"content-footer\">\r\n          { userInfo.recent_replies.length?\r\n        <div> { userInfo.recent_replies.map(item=><UserTopicList item={item} key={item.id}></UserTopicList>)}</div> : <div className=\"content-footer-boot\">无话题</div>  \r\n        }\r\n        </div>\r\n      </footer>\r\n    </div>\r\n    <div className=\"user-right\">\r\n      <div className=\"top\">\r\n        <div className=\"top-header\">个人信息</div>\r\n        <div className=\"top-footer\">\r\n        <img src={userInfo.avatar_url} alt=\"\"/>\r\n          <span className='h-name'>{userInfo.loginname}</span>\r\n          <p>积分：{userInfo.score}</p>\r\n          <p>\"这家伙很懒，什么个性签名都没有留下\"</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"middle\">\r\n        <div className=\"top-header\">社区交流群</div>\r\n        <div className='p-img'>\r\n          <img src=\"http://static.vue-js.com/FoACtDzI5t3Bm4VIrZA3cVm1y7o4\" alt=\"\"/>\r\n          <img src=\"http://static.vue-js.com/Fr6pvXKNio5Pe4kEHk0ufXdZ1sHT\" alt=\"\"/>\r\n        </div>\r\n      </div>\r\n      <div className=\"footer\">\r\n        <div className=\"top-header\">友情社区</div>\r\n        <article>\r\n          <p>Vue中文文档</p>\r\n          <p>汇智网</p>\r\n          <p>掘金-帮助开发者成长的社区</p>\r\n          <p>CSDN</p>\r\n        </article>\r\n      </div>\r\n    </div>\r\n  </div>:''\r\n}</div>\r\n    );\r\n  }\r\n  \r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport { Route } from 'react-router-dom'\r\nimport Home from '../Home/Home'\r\nimport Topic from '../Topic/Topic'\r\nimport User from '../User/User'\r\nconst Main = (props) => {\r\n  return <>\r\n    <Route exact path='/' component={Home}></Route>\r\n    <Route path='/hotTopic' component={Home}></Route>\r\n    <Route path='/topic/:topicid' component={Topic}></Route>\r\n    <Route path='/user/:useid' component={User}></Route>\r\n  </>\r\n}\r\nexport default Main","import React from 'react';\nimport moment from 'moment'\nimport 'moment/locale/zh-cn'\nimport HeaderBar from './components/Header/Header';\nimport Main from './components/Main/Main';\nimport { HashRouter as Router } from 'react-router-dom'\nfunction App() {\n  moment.locale('zh_cn')\n  return (\n    <div>\n      <Router>\n        <HeaderBar />\n        <Main />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}